<html>

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>どっちがイケメン？</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
  <meta name="title" content="どっちがイケメン？">
  <meta name="subject" content="人工知能が2人中、どっちがイケメンなのかを判断してくれます。友達ともうこれ以上どっちがイケメンなのかで喧嘩しないでください！">
  <meta name="keywords" content="イケメン,AI,顔,ブサイク,人工知能,人工知能で顔比較,人工知能でイケメン判定,顔比較">
  <meta name="author" content="Sangki Kim">
  <meta name="description"
    content="人工知能が2人中、どっちがイケメンなのかを判断してくれます。友達ともうこれ以上どっちがイケメンなのかで喧嘩しないでください！会員登録も要らず、画面に写真をアップロードするだけで大丈夫です！写真データはどこにも転送されません。">
  <link rel="shortcut icon" href="img/favicon.ico">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
    integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
  <link href="css/all.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/yakuhanjp@3.3.1/dist/css/yakuhanjp.min.css">
  <link rel="stylesheet" href="style.css">
  <link rel="canonical" href="https://facecompare.netlify.app/">
  <meta property="og:url" content="https://animalface.site">
  <meta property="og:type" content="website">
  <meta property="og:title" content="どっちがイケメン？">
  <meta property="og:description"
    content="人工知能が2人中、どっちがイケメンなのかを判断してくれます。友達ともうこれ以上どっちがイケメンなのかで喧嘩しないでください！会員登録も要らず、画面に写真をアップロードするだけで大丈夫です！写真データはどこにも転送されません。">
  <meta property="og:image" content="img/ogimage.png">
  <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
    integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
    crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
    integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
    crossorigin="anonymous"></script>
  <script defer src="js/all.js"></script>
  <!-- Go to www.addthis.com/dashboard to customize your tools -->
  <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5ead11ef2a3ebd6f"></script>



</head>


<body>
  <script data-ad-client="ca-pub-5277822999700648" async
    src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <div class="container">
    <div class="pricing-header px-3 py-3 pt-md-5 pb-md-4 mx-auto text-center">
      <h1>どっちがイケメン？</h1>
      <p class="lead">人工知能が2人中、どっちがイケメンなのかを判断してくれます。</p>
    </div>
    <div class="loading">Loading&#8230;</div>
    <script class="jsbin" src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
    <!--File 1-->
    <div class="file-upload file-upload1">
      <div class="image-upload-wrap image-upload-wrap1">
        <input class="file-upload-input file-upload-input1" type='file' onchange="readURL1(this);" accept="image/*" />
        <div class="drag-text">
          <img src="img/upload.png" />
          <div class="text">顔写真をドラッグ、もしくは<br>クリックしてアップロードしてください</div>
        </div>
      </div>
      <div class="file-upload-content file-upload-content1">
        <img class="file-upload-image file-upload-image1" id="face-image1" src="#" alt="your image" />
        <div class="image-title-wrap">
          <button type="button" onclick="removeUpload1()" class="remove-image">削除</button>
        </div>
      </div>

      <!-- Result Modal -->
      <!-- Button trigger modal -->
      <button id="modal-btn" style="display: none;" type="button" class="btn btn-primary" data-toggle="modal"
        data-target="#exampleModal">
      </button>
      <div class="modal modal-result fade" id="exampleModal" tabindex="-1" role="dialog"
        aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">結果</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
            </div>
          </div>
        </div>
      </div>


      <!--Dectation result1-->
      <ul class="percent-ul">
        <li>
          <h2>
            イケメン
          </h2>
          <div class="percent percent-handsome"><span class="percent-bar percent-bar-handsome" data-per="0"></span>
          </div>
        </li>
        <li>
          <h2>
            ブサイク
          </h2>
          <div class="percent percent-ugly"><span class="percent-bar percent-bar-ugly" data-per="0"></span></div>
        </li>
      </ul>

    </div>
    <div class="text pricing-header text-center">
      VS
    </div>
    <!-- File 2-->
    <div class="file-upload file-upload2">
      <div class="image-upload-wrap image-upload-wrap2">
        <input class="file-upload-input file-upload-input2" type='file' onchange="readURL2(this);" accept="image/*" />
        <div class="drag-text">
          <img src="img/upload.png" />
          <div class="text">顔写真をドラッグ、もしくは<br>クリックしてアップロードしてください</div>
        </div>
      </div>
      <div class="file-upload-content file-upload-content2">
        <img class="file-upload-image file-upload-image2" id="face-image2" src="#" alt="your image" />
        <div class="image-title-wrap">
          <button type="button" onclick="removeUpload2()" class="remove-image">削除</button>
        </div>
      </div>
      <!--Dectation result2-->
      <ul class="percent-ul">
        <li>
          <h2>
            イケメン
          </h2>
          <div class="percent percent-handsome"><span class="percent-bar percent-bar-handsome" data-per="0"></span>
          </div>
        </li>
        <li>
          <h2>
            ブサイク
          </h2>
          <div class="percent percent-ugly"><span class="percent-bar percent-bar-ugly" data-per="0"></span></div>
        </li>
      </ul>

      <!-- Go to www.addthis.com/dashboard to customize your tools -->
      <div class="addthis text">
        <div>共有</div>
        <div class="addthis_inline_share_toolbox_b3i7"></div>
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.3.1/dist/tf.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@0.8/dist/teachablemachine-image.min.js"></script>
    <script type="text/javascript">
      // More API functions here:
      // https://github.com/googlecreativelab/teachablemachine-community/tree/master/libraries/image

      // the link to your model provided by Teachable Machine export panel
      const URL = "https://teachablemachine.withgoogle.com/models/VsNUhLxd_/";

      let model, webcam, handsome1, handsome2, maxPredictions;

      // Load the image model and setup the webcam
      async function init() {
        const modelURL = URL + "model.json";
        const metadataURL = URL + "metadata.json";

        // load the model and metadata
        // Refer to tmImage.loadFromFiles() in the API to support files from a file picker
        // or files from your local hard drive
        // Note: the pose library adds "tmImage" object to your window (window.tmImage)
        model = await tmImage.load(modelURL, metadataURL);
        maxPredictions = model.getTotalClasses();

        // append elements to the DOM
        // labelContainer1 = document.getElementById("label-container1");
        // labelContainer2 = document.getElementById("label-container2");
        // for (let i = 0; i < maxPredictions; i++) { // and class labels
        //   labelContainer1.appendChild(document.createElement("div"));
        //   labelContainer2.appendChild(document.createElement("div"));
        // }
      }
      async function predict2() {
        var image2 = document.getElementById("face-image2");
        const prediction2 = await model.predict(image2, false);
        handsome2 = Math.round(prediction2[0].probability.toFixed(2) * 100);
        var handsome2Text = '<p style="color:black;font-size:1.0rem;text-align:center;">' + handsome2 + '</p>';
        var ugly2 = (prediction2[1].probability.toFixed(2)) * 100;
        var ugly2Text = '<p style="color:black;font-size:1.0rem;text-align:center;">' + ugly2 + '</p>';
        $(".percent-bar-handsome").eq(1).data("per", handsome2);
        $(".percent-bar-handsome").eq(1).append(handsome2Text);
        $(".percent-bar-ugly").eq(1).data("per", ugly2);
        $(".percent-bar-ugly").eq(1).append(ugly2Text);
        await dectation();
      }

      // run the webcam image through the image model
      async function predict1() {
        // predict can take in an image, video or canvas html element
        var image1 = document.getElementById("face-image1");

        const prediction1 = await model.predict(image1, false);

        // for (let i = 0; i < maxPredictions; i++) {
        //prediction[0].className = Handsome prediction1[0].probability.toFixed(2) = 1.00
        //prediction[1].className = Ugly prediction1[1].probability.toFixed(2) = 1.00
        handsome1 = Math.round(prediction1[0].probability.toFixed(2) * 100);


        var handsome1Text = '<p style="color:black;font-size:1.0rem;text-align:center;">' + handsome1 + '</p>';

        var ugly1 = (prediction1[1].probability.toFixed(2)) * 100;

        var ugly1Text = '<p style="color:black;font-size:1.0rem;text-align:center;">' + ugly1 + '</p>';

        $(".percent-bar-handsome").eq(0).data("per", handsome1);

        $(".percent-bar-handsome").eq(0).append(handsome1Text);

        $(".percent-bar-ugly").eq(0).data("per", ugly1);

        $(".percent-bar-ugly").eq(0).append(ugly1Text);
      }

      function dectation() {
        if (handsome1 > handsome2) {
          var crownImg = "<img src='img/crowns.png'/><br>";
          $('.modal-body').append(crownImg);
          $("#face-image1").clone().appendTo('.modal-body');
          var handsomeNum = "<div class='text'>イケメン指数:" + handsome1 + "</div>";
          $('.modal-body').append(handsomeNum);
        } else if (handsome1 < handsome2) {
          var crownImg = "<img src='img/crowns.png'/><br>";
          $('.modal-body').append(crownImg);
          $("#face-image2").clone().appendTo('.modal-body');
          var handsomeNum = "<div class='text'>イケメン指数:" + handsome2 + "</div>";
          $('.modal-body').append(handsomeNum);
        } else {
          var drawText = "<div class='text'>引き分け!</div>";
          drawText.appendTo('.modal-body');
        }
        $('#modal-btn').click();
        $("ul.percent-ul").show();
        drawingProgressBar();
        $(".remove-image").hide();
        $(".addthis").show();
        $(".loading").hide();
      }
    </script>
    <a href="https://www.youtube.com/channel/UCQNE2JmbasNYbjGAcuBiRRg"
      class="d-flex flex-column justify-content-center align-items-center">
      <img class="ad-banner"
        src="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fk.kakaocdn.net%2Fdn%2FdHfMHS%2FbtqDfCJdLpH%2F6xKAC0w10kTrGjhll02SOK%2Fimg.jpg"
        alt="조코딩 유튜브 홍보" />
      <span>このようなアプリを直接作ってみませんか？ジョコーディングチャンネルを登録してください。</span>
    </a>


  </div>
</body>
<script>
  var userAgent = window.navigator.userAgent.toLowerCase();;




  function checkLoading() {
    var image1 = $('#face-image1').attr("src");
    var image2 = $('#face-image2').attr("src");
    if (image1 != "#" && image2 != "#") {
      $(".loading").show();
      init().then(function () {
        predict1().then(function () {
          predict2();
        });
        $('#loading').hide();
      });
    }
  }


  function readURL1(input) {
    if (input.files && input.files[0]) {

      var reader = new FileReader();

      reader.onload = function (e) {
        $('.image-upload-wrap1').hide();
        $('.file-upload-image1').attr('src', e.target.result);
        $('.file-upload-content1').show();
        checkLoading();
      };

      reader.readAsDataURL(input.files[0]);

    } else {
      removeUpload1();
    }
  }

  function readURL2(input) {
    if (input.files && input.files[0]) {

      var reader = new FileReader();

      reader.onload = function (e) {
        $('.image-upload-wrap2').hide();
        $('.file-upload-image2').attr('src', e.target.result);
        $('.file-upload-content2').show();
        checkLoading();
      };
      reader.readAsDataURL(input.files[0]);
    } else {
      removeUpload2();
    }
  }

  function removeUpload1() {
    $('.file-upload-input1').replaceWith($('.file-upload-input1').clone());
    $('.file-upload-content1').hide();
    $('.image-upload-wrap1').show();
  }
  $('.image-upload-wrap1').bind('dragover', function () {
    $('.image-upload-wrap1').addClass('image-dropping');
  });
  $('.image-upload-wrap1').bind('dragleave', function () {
    $('.image-upload-wrap1').removeClass('image-dropping');
  });

  function removeUpload2() {
    $('.file-upload-input2').replaceWith($('.file-upload-input2').clone());
    $('.file-upload-content2').hide();
    $('.image-upload-wrap2').show();
  }
  $('.image-upload-wrap2').bind('dragover', function () {
    $('.image-upload-wrap2').addClass('image-dropping');
  });
  $('.image-upload-wrap2').bind('dragleave', function () {
    $('.image-upload-wrap2').removeClass('image-dropping');
  });

  function drawingProgressBar() {
    $.fn.extend({
      'progressbar': function (config) {
        var opt = $.extend({
          parent: null,
          callback: $.noop,
          duration: 200
        }, config || {});

        var $body = $(document.body),
          _queue = [],
          fnDequeue = function () {
            $body.dequeue('jq.progressbar')
          };

        $(this).each(function () {
          var $self = $(this),
            data = $self.data();
          if (data.queque) return;
          _queue.push(
            function () {
              var per = data.per;
              (per = per || 0) && (per = per > 100 ? 100 : per);
              $self.animate({
                width: per + '%'
              }, opt.duration, function () {
                opt.callback();
                fnDequeue();
              })
            }
          );

          $self.data('queque', true);
        });

        $body.queue('jq.progressbar', _queue);

        // 触发堆栈
        fnDequeue();

        return this;
      }
    });

    $('.percent-bar').progressbar({
      duration: 500
    });
  }
  /*
   * http://isixu.com/
   * nodejser 提供的方案
   */

</script>

<!-- Copyright (c) 2016, TICKETMONSTER, Inc. (http://www.ticketmonster.co.kr),
with Reserved Font Name TmonMonsori.
This Font Software is licensed under the SIL Open Font License, Version 1.1.
This license is copied below, and is also available with a FAQ at: http://scripts.sil.org/OFL
SIL OPEN FONT LICENSE
Version 1.1 - 26 February 2007
> ‘Tmon 몬소리체’ 폰트명에 대해 Ticket
Monster (http://www.ticketmonster.co.kr)이 저작권을 소유하고 있습니다.
본 폰트 소프트웨어는 SIL 오픈 폰트 라이선스 버전 1.1 에 따라 라이선스 취득을 하였습니다.
본 라이선스는 하단에 복사되었고 http://scripts.sil.org/OFL 의 FAQ 란 에서도 열람가능 합니다.
SIL 오픈 폰트 라이선스
버전 1.1 (2007 년 2 월 26 일)
DEFINITIONS (정의) -->
<!-- Copyright (c) 2020 by Aaron Vanston (https://codepen.io/aaronvanston/pen/yNYOXR)

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. -->


<!-- Copyright (c) 2020 by MattIn4D (https://codepen.io/MattIn4D/pen/LiKFC)

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 -->


<!-- Copyright (c) 2020 by 梓梓梓蓝 (https://codepen.io/zhuziyi/pen/LVwQqp)

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. -->


</html>